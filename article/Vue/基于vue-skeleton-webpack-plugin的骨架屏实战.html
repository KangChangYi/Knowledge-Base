<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>基于 vue-skeleton-webpack-plugin 的骨架屏实战 | 特辣的博客</title>
    <meta name="description" content="Step by step">
    
    
    <link rel="preload" href="/assets/css/0.styles.98303e98.css" as="style"><link rel="preload" href="/assets/js/app.9bc466e0.js" as="script"><link rel="preload" href="/assets/js/2.bc0da09f.js" as="script"><link rel="preload" href="/assets/js/6.cdcc581a.js" as="script"><link rel="prefetch" href="/assets/js/10.7f9b2c60.js"><link rel="prefetch" href="/assets/js/11.b7ec9672.js"><link rel="prefetch" href="/assets/js/12.44e7cb04.js"><link rel="prefetch" href="/assets/js/13.c977ea8f.js"><link rel="prefetch" href="/assets/js/14.3ca8fada.js"><link rel="prefetch" href="/assets/js/15.49fb8b22.js"><link rel="prefetch" href="/assets/js/16.f77d8666.js"><link rel="prefetch" href="/assets/js/17.793a78ce.js"><link rel="prefetch" href="/assets/js/18.e720ae74.js"><link rel="prefetch" href="/assets/js/19.b7f857dc.js"><link rel="prefetch" href="/assets/js/20.20a62293.js"><link rel="prefetch" href="/assets/js/21.04f12faf.js"><link rel="prefetch" href="/assets/js/22.dfdf7735.js"><link rel="prefetch" href="/assets/js/23.9b43db7d.js"><link rel="prefetch" href="/assets/js/24.c06fb8e6.js"><link rel="prefetch" href="/assets/js/25.95bb47b2.js"><link rel="prefetch" href="/assets/js/26.6396c0d9.js"><link rel="prefetch" href="/assets/js/27.ae927678.js"><link rel="prefetch" href="/assets/js/28.1fb3c5c9.js"><link rel="prefetch" href="/assets/js/29.990fdc34.js"><link rel="prefetch" href="/assets/js/3.62dac171.js"><link rel="prefetch" href="/assets/js/30.53047d86.js"><link rel="prefetch" href="/assets/js/31.71fcf53c.js"><link rel="prefetch" href="/assets/js/32.9f8fcea9.js"><link rel="prefetch" href="/assets/js/33.75bbec8e.js"><link rel="prefetch" href="/assets/js/34.1fa01da7.js"><link rel="prefetch" href="/assets/js/35.10349e7e.js"><link rel="prefetch" href="/assets/js/36.3d117ae6.js"><link rel="prefetch" href="/assets/js/37.b4bf6da0.js"><link rel="prefetch" href="/assets/js/38.5b279f27.js"><link rel="prefetch" href="/assets/js/39.a98c8a8e.js"><link rel="prefetch" href="/assets/js/4.6c23dc08.js"><link rel="prefetch" href="/assets/js/40.47d6e933.js"><link rel="prefetch" href="/assets/js/41.62ed983b.js"><link rel="prefetch" href="/assets/js/42.62a3fbfa.js"><link rel="prefetch" href="/assets/js/5.6ad3abc9.js"><link rel="prefetch" href="/assets/js/7.d57a0c3f.js"><link rel="prefetch" href="/assets/js/8.cc13f77a.js"><link rel="prefetch" href="/assets/js/9.c7fc3fdb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.98303e98.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">特辣的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/KangChangYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kangchangyi.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/KangChangYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kangchangyi.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/article/Vue/Vue原理之变化侦测.html" class="sidebar-link">Vue 原理之变化侦测</a></li><li><a href="/article/Vue/Vue最佳实践_风格规范整理.html" class="sidebar-link">Vue 框架使用时需注意的风格规范及最佳实践</a></li><li><a href="/article/Vue/基于vue-skeleton-webpack-plugin的骨架屏实战.html" class="active sidebar-link">基于 vue-skeleton-webpack-plugin 的骨架屏实战</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>快速查阅</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>服务端入门ing</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>其他</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>每月总结</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>浏览器</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>计算机网络</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="基于-vue-skeleton-webpack-plugin-的骨架屏实战"><a href="#基于-vue-skeleton-webpack-plugin-的骨架屏实战" aria-hidden="true" class="header-anchor">#</a> 基于 vue-skeleton-webpack-plugin 的骨架屏实战</h2> <h1 id="前言"><a href="#前言" aria-hidden="true" class="header-anchor">#</a> 前言</h1> <p>最近在实习，手头上的项目用到了骨架屏，回顾梳理一下。</p> <p>目前正在做的项目，登录是需要跳转到别人的页面的，导致重定向很多，需要优化一下白屏时间，所以就用到了骨架屏，但是这次用的骨架屏不是自动生成的，还是自己敲的样式，一步步来吧，先从简单的用起🤝。</p> <p>先上效果图：</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance2.gif" alt=""></p> <h1 id="什么是骨架屏"><a href="#什么是骨架屏" aria-hidden="true" class="header-anchor">#</a> 什么是骨架屏</h1> <p><b>骨架屏</b>，英文 Skeleton screen，是指在页面开始渲染之前的白屏时间内，先让用户看到即将要展现页面的“骨架”，页面渲染完成之后再将它替换掉，起到一个从<span class="important-font"> 白屏 → 渲染完成 </span>过程中的过渡作用，它可以有效减少用户的感知时间，让用户“感觉上”认为打开页面比较快（相比较于完整的白屏时间）。</p> <h1 id="实现"><a href="#实现" aria-hidden="true" class="header-anchor">#</a> 实现</h1> <p>本文主要围绕一个开源的 Webpack 插件 <a href="https://github.com/lavas-project/vue-skeleton-webpack-plugin" target="_blank" rel="noopener noreferrer">vue-skeleton-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>，来实现在 Vue 项目中加入骨架屏。</p> <blockquote><p>由于项目对骨架屏的需求不同，相应的代码也会不一样。
本文所实现的骨架屏是<span class="important-font"> 基于 Vue-cli 3.x 搭建的项目 </span>，根据的不同路由，显示不同的骨架屏，如需其他用法详见开源插件。</p></blockquote> <p>让我们开始吧🏄。</p> <p>首先是安装插件：</p> <div class="language-shell extra-class"><pre class="language-text"><code>npm install vue-skeleton-webpack-plugin
</code></pre></div><h3 id="vue-config-js"><a href="#vue-config-js" aria-hidden="true" class="header-anchor">#</a> vue.config.js</h3> <p>安装完成后在 vue.config.js 中做如下配置：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> SkeletonWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-skeleton-webpack-plugin'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">configureWebpack</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SkeletonWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            webpackConfig<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    app<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./src/skeleton/skeleton.js'</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// SPA 下是压缩注入 HTML 的 JS 代码</span>
            minimize<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// 服务端渲染时是否需要输出信息到控制台</span>
            quiet<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// 根据路由显示骨架屏</span>
            router<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    mode<span class="token punctuation">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
                    routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
                            path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
                            skeletonId<span class="token punctuation">:</span> <span class="token string">'skeleton-home'</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>
                            path<span class="token punctuation">:</span> <span class="token string">'/message'</span><span class="token punctuation">,</span>
                            skeletonId<span class="token punctuation">:</span> <span class="token string">'skeleton-message'</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    css<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// 使用 css 分离插件 mini-css-extract-plugin，不然骨架屏组件里的 &lt;style&gt; 不起作用，</span>
        extract<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>其中<span class="important-font"> skeleton.js </span>是我们骨架屏的入口，我们过会再创建。先看来一下其中 router 这个配置项。</p> <p><span class="important-font">router </span>的配置决定了我们各个路由路径所对应的骨架屏。</p> <ul><li>router.mode 填路由模式，两个值可选 history | hash.</li> <li>router.routes 填路由数组，其中<span class="important-font"> path </span>对应着页面在<span class="important-font"> vue-router </span>中的<span class="important-font"> path</span>，<span class="important-font">skeletonId </span>是骨架屏的<span class="important-font"> id</span>，后面马上会说明。</li></ul> <h3 id="skeleton-js"><a href="#skeleton-js" aria-hidden="true" class="header-anchor">#</a> skeleton.js</h3> <p>配置完成后，新建一个骨架屏的入口 skeleton.js。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/skeleton/skeleton.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token comment">// 引入的骨架屏组件</span>
<span class="token keyword">import</span> skeletonHome <span class="token keyword">from</span> <span class="token string">'./skeleton/skeletonHome.vue'</span>
<span class="token keyword">import</span> skeletonMessage <span class="token keyword">from</span> <span class="token string">'./skeleton/skeletonMessage.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        skeletonHome<span class="token punctuation">,</span>
        skeletonMessage<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    template<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        &lt;div&gt;
            &lt;skeletonHome id=&quot;skeleton-home&quot; style=&quot;display:none&quot;/&gt;
            &lt;skeletonMessage id=&quot;skeleton-message&quot; style=&quot;display:none&quot;/&gt;
        &lt;/div&gt;
    </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>上面的代码中，引入的两个组件分别对应<span class="important-font"> 首页（Home）</span>和<span class="important-font"> 消息页（Message）</span>的骨架屏，其中组件的<span class="important-font"> id </span>对应之前在<span class="important-font"> vue.config.js </span>里的<span class="important-font"> skeletonId </span>。</p> <p>贴上其中一个骨架屏组件的代码：</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// skeletonMessage.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>skeleton-block<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sk-loanList-header-bg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-messageItem</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-messageItem</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-messageItem</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-messageItem</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> messageItem <span class="token keyword">from</span> <span class="token string">'./components/s-messageListItem'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'skeletonMessage'</span><span class="token punctuation">,</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'s-messageItem'</span><span class="token punctuation">:</span> messageItem
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.skeleton-block</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.sk-loanList-header-bg</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span>88px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span>#2954D0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>其实就是很普通的一个 Vue 组件，在组件里写自己想要的骨架屏的样式即可，可复用的地方还可以再分成组件。
在路由里加上 skeletonMessage ，看一下效果：</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton.png" alt=""></p> <p>至此，现在骨架屏已经准备就绪了，是不是很简单🤨。</p> <h3 id="效果展示"><a href="#效果展示" aria-hidden="true" class="header-anchor">#</a> 效果展示</h3> <p>这边模拟一下移动端访问环境，先进入 Chrome DevTools 中的 Performance 进行设置。</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance1.gif" alt=""></p> <p>运行 Performance：</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance2.png" alt=""></p> <p>效果：</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance2.gif" alt=""></p> <p>从骨架屏替换成页面的过程中还是有闪一下的，目前还不知道这个是否可以优化，尝试中。</p> <p>查看一下 Performance 中不同页面展现的时间：</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance4.png" alt=""> <img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance5.png" alt=""></p> <p>（ps：解释一下，我也不知道什么情况，运行完之后就是尼🐴这么糊...）</p> <p>可以看到在通过本地运行访问的情况下（本地访问较快），在进入页面后 221ms 页面先展示骨架屏，随后在 738ms 时完成页面的渲染。</p> <p>这里如果不加骨架屏的话就是 738ms 的白屏时间，我们已经通过骨架屏优化了一些白屏时间🏄。</p> <h3 id="最后"><a href="#最后" aria-hidden="true" class="header-anchor">#</a> 最后</h3> <p><a href="https://github.com/lavas-project/vue-skeleton-webpack-plugin" target="_blank" rel="noopener noreferrer">vue-skeleton-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 是较为初级的骨架屏方案，相信大家也可以马上想到许多缺点。</p> <p>比如：</p> <ul><li>需要手动去写骨架屏的样式。</li> <li>骨架屏样式在不同尺寸下的响应式问题。</li> <li>在界面改动之后也需要手动修改对应的骨架屏。</li></ul> <p>由于在本人的项目中使用到了<span class="important-font"> postcss-px2rem </span> 自动 px 转 rem，所以避开了一些缺点。</p> <h3 id="其他方法"><a href="#其他方法" aria-hidden="true" class="header-anchor">#</a> 其他方法</h3> <p>此外还有许多使用骨架屏的方法：</p> <ul><li><a href="https://github.com/ElemeFE/page-skeleton-webpack-plugin" target="_blank" rel="noopener noreferrer">page-skeleton-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 饿了么开源的自动生成骨架屏生成插件。</li> <li>用 base64 的图片做骨架屏，就让 UI 在出设计稿的时候顺便把骨架屏也给画了😂。</li></ul> <blockquote><p>参考：
https://juejin.im/post/5b79a2786fb9a01a18267362#comment</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/article/Vue/Vue最佳实践_风格规范整理.html" class="prev">
          Vue 框架使用时需注意的风格规范及最佳实践
        </a></span> <span class="next"><a href="/article/快速查阅/Node.js安装及环境配置教程.html">
          Windows 下 Node.js 安装及环境变量配置教程
        </a>
        →
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9bc466e0.js" defer></script><script src="/assets/js/2.bc0da09f.js" defer></script><script src="/assets/js/6.cdcc581a.js" defer></script>
  </body>
</html>
