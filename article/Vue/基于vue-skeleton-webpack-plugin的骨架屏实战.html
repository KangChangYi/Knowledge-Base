<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>åŸºäº vue-skeleton-webpack-plugin çš„éª¨æ¶å±å®æˆ˜ | ç‰¹è¾£çš„åšå®¢</title>
    <meta name="description" content="Step by step">
    
    
    <link rel="preload" href="/assets/css/0.styles.98303e98.css" as="style"><link rel="preload" href="/assets/js/app.9bc466e0.js" as="script"><link rel="preload" href="/assets/js/2.bc0da09f.js" as="script"><link rel="preload" href="/assets/js/6.cdcc581a.js" as="script"><link rel="prefetch" href="/assets/js/10.7f9b2c60.js"><link rel="prefetch" href="/assets/js/11.b7ec9672.js"><link rel="prefetch" href="/assets/js/12.44e7cb04.js"><link rel="prefetch" href="/assets/js/13.c977ea8f.js"><link rel="prefetch" href="/assets/js/14.3ca8fada.js"><link rel="prefetch" href="/assets/js/15.49fb8b22.js"><link rel="prefetch" href="/assets/js/16.f77d8666.js"><link rel="prefetch" href="/assets/js/17.793a78ce.js"><link rel="prefetch" href="/assets/js/18.e720ae74.js"><link rel="prefetch" href="/assets/js/19.b7f857dc.js"><link rel="prefetch" href="/assets/js/20.20a62293.js"><link rel="prefetch" href="/assets/js/21.04f12faf.js"><link rel="prefetch" href="/assets/js/22.dfdf7735.js"><link rel="prefetch" href="/assets/js/23.9b43db7d.js"><link rel="prefetch" href="/assets/js/24.c06fb8e6.js"><link rel="prefetch" href="/assets/js/25.95bb47b2.js"><link rel="prefetch" href="/assets/js/26.6396c0d9.js"><link rel="prefetch" href="/assets/js/27.ae927678.js"><link rel="prefetch" href="/assets/js/28.1fb3c5c9.js"><link rel="prefetch" href="/assets/js/29.990fdc34.js"><link rel="prefetch" href="/assets/js/3.62dac171.js"><link rel="prefetch" href="/assets/js/30.53047d86.js"><link rel="prefetch" href="/assets/js/31.71fcf53c.js"><link rel="prefetch" href="/assets/js/32.9f8fcea9.js"><link rel="prefetch" href="/assets/js/33.75bbec8e.js"><link rel="prefetch" href="/assets/js/34.1fa01da7.js"><link rel="prefetch" href="/assets/js/35.10349e7e.js"><link rel="prefetch" href="/assets/js/36.3d117ae6.js"><link rel="prefetch" href="/assets/js/37.b4bf6da0.js"><link rel="prefetch" href="/assets/js/38.5b279f27.js"><link rel="prefetch" href="/assets/js/39.a98c8a8e.js"><link rel="prefetch" href="/assets/js/4.6c23dc08.js"><link rel="prefetch" href="/assets/js/40.47d6e933.js"><link rel="prefetch" href="/assets/js/41.62ed983b.js"><link rel="prefetch" href="/assets/js/42.62a3fbfa.js"><link rel="prefetch" href="/assets/js/5.6ad3abc9.js"><link rel="prefetch" href="/assets/js/7.d57a0c3f.js"><link rel="prefetch" href="/assets/js/8.cc13f77a.js"><link rel="prefetch" href="/assets/js/9.c7fc3fdb.js">
    <link rel="stylesheet" href="/assets/css/0.styles.98303e98.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">ç‰¹è¾£çš„åšå®¢</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://github.com/KangChangYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kangchangyi.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://github.com/KangChangYi" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="https://kangchangyi.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Blog
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/article/Vue/VueåŸç†ä¹‹å˜åŒ–ä¾¦æµ‹.html" class="sidebar-link">Vue åŸç†ä¹‹å˜åŒ–ä¾¦æµ‹</a></li><li><a href="/article/Vue/Vueæœ€ä½³å®è·µ_é£æ ¼è§„èŒƒæ•´ç†.html" class="sidebar-link">Vue æ¡†æ¶ä½¿ç”¨æ—¶éœ€æ³¨æ„çš„é£æ ¼è§„èŒƒåŠæœ€ä½³å®è·µ</a></li><li><a href="/article/Vue/åŸºäºvue-skeleton-webpack-pluginçš„éª¨æ¶å±å®æˆ˜.html" class="active sidebar-link">åŸºäº vue-skeleton-webpack-plugin çš„éª¨æ¶å±å®æˆ˜</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å¿«é€ŸæŸ¥é˜…</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æœåŠ¡ç«¯å…¥é—¨ing</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>å…¶ä»–</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æ¯æœˆæ€»ç»“</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>æµè§ˆå™¨</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>è®¡ç®—æœºç½‘ç»œ</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="åŸºäº-vue-skeleton-webpack-plugin-çš„éª¨æ¶å±å®æˆ˜"><a href="#åŸºäº-vue-skeleton-webpack-plugin-çš„éª¨æ¶å±å®æˆ˜" aria-hidden="true" class="header-anchor">#</a> åŸºäº vue-skeleton-webpack-plugin çš„éª¨æ¶å±å®æˆ˜</h2> <h1 id="å‰è¨€"><a href="#å‰è¨€" aria-hidden="true" class="header-anchor">#</a> å‰è¨€</h1> <p>æœ€è¿‘åœ¨å®ä¹ ï¼Œæ‰‹å¤´ä¸Šçš„é¡¹ç›®ç”¨åˆ°äº†éª¨æ¶å±ï¼Œå›é¡¾æ¢³ç†ä¸€ä¸‹ã€‚</p> <p>ç›®å‰æ­£åœ¨åšçš„é¡¹ç›®ï¼Œç™»å½•æ˜¯éœ€è¦è·³è½¬åˆ°åˆ«äººçš„é¡µé¢çš„ï¼Œå¯¼è‡´é‡å®šå‘å¾ˆå¤šï¼Œéœ€è¦ä¼˜åŒ–ä¸€ä¸‹ç™½å±æ—¶é—´ï¼Œæ‰€ä»¥å°±ç”¨åˆ°äº†éª¨æ¶å±ï¼Œä½†æ˜¯è¿™æ¬¡ç”¨çš„éª¨æ¶å±ä¸æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œè¿˜æ˜¯è‡ªå·±æ•²çš„æ ·å¼ï¼Œä¸€æ­¥æ­¥æ¥å§ï¼Œå…ˆä»ç®€å•çš„ç”¨èµ·ğŸ¤ã€‚</p> <p>å…ˆä¸Šæ•ˆæœå›¾ï¼š</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance2.gif" alt=""></p> <h1 id="ä»€ä¹ˆæ˜¯éª¨æ¶å±"><a href="#ä»€ä¹ˆæ˜¯éª¨æ¶å±" aria-hidden="true" class="header-anchor">#</a> ä»€ä¹ˆæ˜¯éª¨æ¶å±</h1> <p><b>éª¨æ¶å±</b>ï¼Œè‹±æ–‡ Skeleton screenï¼Œæ˜¯æŒ‡åœ¨é¡µé¢å¼€å§‹æ¸²æŸ“ä¹‹å‰çš„ç™½å±æ—¶é—´å†…ï¼Œå…ˆè®©ç”¨æˆ·çœ‹åˆ°å³å°†è¦å±•ç°é¡µé¢çš„â€œéª¨æ¶â€ï¼Œé¡µé¢æ¸²æŸ“å®Œæˆä¹‹åå†å°†å®ƒæ›¿æ¢æ‰ï¼Œèµ·åˆ°ä¸€ä¸ªä»<span class="important-font"> ç™½å± â†’ æ¸²æŸ“å®Œæˆ </span>è¿‡ç¨‹ä¸­çš„è¿‡æ¸¡ä½œç”¨ï¼Œå®ƒå¯ä»¥æœ‰æ•ˆå‡å°‘ç”¨æˆ·çš„æ„ŸçŸ¥æ—¶é—´ï¼Œè®©ç”¨æˆ·â€œæ„Ÿè§‰ä¸Šâ€è®¤ä¸ºæ‰“å¼€é¡µé¢æ¯”è¾ƒå¿«ï¼ˆç›¸æ¯”è¾ƒäºå®Œæ•´çš„ç™½å±æ—¶é—´ï¼‰ã€‚</p> <h1 id="å®ç°"><a href="#å®ç°" aria-hidden="true" class="header-anchor">#</a> å®ç°</h1> <p>æœ¬æ–‡ä¸»è¦å›´ç»•ä¸€ä¸ªå¼€æºçš„ Webpack æ’ä»¶ <a href="https://github.com/lavas-project/vue-skeleton-webpack-plugin" target="_blank" rel="noopener noreferrer">vue-skeleton-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>ï¼Œæ¥å®ç°åœ¨ Vue é¡¹ç›®ä¸­åŠ å…¥éª¨æ¶å±ã€‚</p> <blockquote><p>ç”±äºé¡¹ç›®å¯¹éª¨æ¶å±çš„éœ€æ±‚ä¸åŒï¼Œç›¸åº”çš„ä»£ç ä¹Ÿä¼šä¸ä¸€æ ·ã€‚
æœ¬æ–‡æ‰€å®ç°çš„éª¨æ¶å±æ˜¯<span class="important-font"> åŸºäº Vue-cli 3.x æ­å»ºçš„é¡¹ç›® </span>ï¼Œæ ¹æ®çš„ä¸åŒè·¯ç”±ï¼Œæ˜¾ç¤ºä¸åŒçš„éª¨æ¶å±ï¼Œå¦‚éœ€å…¶ä»–ç”¨æ³•è¯¦è§å¼€æºæ’ä»¶ã€‚</p></blockquote> <p>è®©æˆ‘ä»¬å¼€å§‹å§ğŸ„ã€‚</p> <p>é¦–å…ˆæ˜¯å®‰è£…æ’ä»¶ï¼š</p> <div class="language-shell extra-class"><pre class="language-text"><code>npm install vue-skeleton-webpack-plugin
</code></pre></div><h3 id="vue-config-js"><a href="#vue-config-js" aria-hidden="true" class="header-anchor">#</a> vue.config.js</h3> <p>å®‰è£…å®Œæˆååœ¨ vue.config.js ä¸­åšå¦‚ä¸‹é…ç½®ï¼š</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> SkeletonWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'vue-skeleton-webpack-plugin'</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">configureWebpack</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        config<span class="token punctuation">.</span>plugins<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SkeletonWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            webpackConfig<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    app<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">'./src/skeleton/skeleton.js'</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token comment">// SPA ä¸‹æ˜¯å‹ç¼©æ³¨å…¥ HTML çš„ JS ä»£ç </span>
            minimize<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// æœåŠ¡ç«¯æ¸²æŸ“æ—¶æ˜¯å¦éœ€è¦è¾“å‡ºä¿¡æ¯åˆ°æ§åˆ¶å°</span>
            quiet<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
            <span class="token comment">// æ ¹æ®è·¯ç”±æ˜¾ç¤ºéª¨æ¶å±</span>
            router<span class="token punctuation">:</span> <span class="token punctuation">{</span>
                    mode<span class="token punctuation">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span>
                    routes<span class="token punctuation">:</span> <span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
                            path<span class="token punctuation">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span>
                            skeletonId<span class="token punctuation">:</span> <span class="token string">'skeleton-home'</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>
                            path<span class="token punctuation">:</span> <span class="token string">'/message'</span><span class="token punctuation">,</span>
                            skeletonId<span class="token punctuation">:</span> <span class="token string">'skeleton-message'</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">]</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    css<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// ä½¿ç”¨ css åˆ†ç¦»æ’ä»¶ mini-css-extract-pluginï¼Œä¸ç„¶éª¨æ¶å±ç»„ä»¶é‡Œçš„ &lt;style&gt; ä¸èµ·ä½œç”¨ï¼Œ</span>
        extract<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å…¶ä¸­<span class="important-font"> skeleton.js </span>æ˜¯æˆ‘ä»¬éª¨æ¶å±çš„å…¥å£ï¼Œæˆ‘ä»¬è¿‡ä¼šå†åˆ›å»ºã€‚å…ˆçœ‹æ¥ä¸€ä¸‹å…¶ä¸­ router è¿™ä¸ªé…ç½®é¡¹ã€‚</p> <p><span class="important-font">router </span>çš„é…ç½®å†³å®šäº†æˆ‘ä»¬å„ä¸ªè·¯ç”±è·¯å¾„æ‰€å¯¹åº”çš„éª¨æ¶å±ã€‚</p> <ul><li>router.mode å¡«è·¯ç”±æ¨¡å¼ï¼Œä¸¤ä¸ªå€¼å¯é€‰ history | hash.</li> <li>router.routes å¡«è·¯ç”±æ•°ç»„ï¼Œå…¶ä¸­<span class="important-font"> path </span>å¯¹åº”ç€é¡µé¢åœ¨<span class="important-font"> vue-router </span>ä¸­çš„<span class="important-font"> path</span>ï¼Œ<span class="important-font">skeletonId </span>æ˜¯éª¨æ¶å±çš„<span class="important-font"> id</span>ï¼Œåé¢é©¬ä¸Šä¼šè¯´æ˜ã€‚</li></ul> <h3 id="skeleton-js"><a href="#skeleton-js" aria-hidden="true" class="header-anchor">#</a> skeleton.js</h3> <p>é…ç½®å®Œæˆåï¼Œæ–°å»ºä¸€ä¸ªéª¨æ¶å±çš„å…¥å£ skeleton.jsã€‚</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// src/skeleton/skeleton.js</span>
<span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span>

<span class="token comment">// å¼•å…¥çš„éª¨æ¶å±ç»„ä»¶</span>
<span class="token keyword">import</span> skeletonHome <span class="token keyword">from</span> <span class="token string">'./skeleton/skeletonHome.vue'</span>
<span class="token keyword">import</span> skeletonMessage <span class="token keyword">from</span> <span class="token string">'./skeleton/skeletonMessage.vue'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        skeletonHome<span class="token punctuation">,</span>
        skeletonMessage<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    template<span class="token punctuation">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">
        &lt;div&gt;
            &lt;skeletonHome id=&quot;skeleton-home&quot; style=&quot;display:none&quot;/&gt;
            &lt;skeletonMessage id=&quot;skeleton-message&quot; style=&quot;display:none&quot;/&gt;
        &lt;/div&gt;
    </span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>ä¸Šé¢çš„ä»£ç ä¸­ï¼Œå¼•å…¥çš„ä¸¤ä¸ªç»„ä»¶åˆ†åˆ«å¯¹åº”<span class="important-font"> é¦–é¡µï¼ˆHomeï¼‰</span>å’Œ<span class="important-font"> æ¶ˆæ¯é¡µï¼ˆMessageï¼‰</span>çš„éª¨æ¶å±ï¼Œå…¶ä¸­ç»„ä»¶çš„<span class="important-font"> id </span>å¯¹åº”ä¹‹å‰åœ¨<span class="important-font"> vue.config.js </span>é‡Œçš„<span class="important-font"> skeletonId </span>ã€‚</p> <p>è´´ä¸Šå…¶ä¸­ä¸€ä¸ªéª¨æ¶å±ç»„ä»¶çš„ä»£ç ï¼š</p> <div class="language-vue extra-class"><pre class="language-vue"><code>// skeletonMessage.vue
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>skeleton-block<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>sk-loanList-header-bg<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-messageItem</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-messageItem</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-messageItem</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>s-messageItem</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> messageItem <span class="token keyword">from</span> <span class="token string">'./components/s-messageListItem'</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token punctuation">:</span> <span class="token string">'skeletonMessage'</span><span class="token punctuation">,</span>
    components<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        <span class="token string">'s-messageItem'</span><span class="token punctuation">:</span> messageItem
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">scoped</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.skeleton-block</span> <span class="token punctuation">{</span>
    <span class="token property">width</span><span class="token punctuation">:</span>100%<span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 100vh<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.sk-loanList-header-bg</span> <span class="token punctuation">{</span>
    <span class="token property">height</span><span class="token punctuation">:</span>88px<span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span>#2954D0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å…¶å®å°±æ˜¯å¾ˆæ™®é€šçš„ä¸€ä¸ª Vue ç»„ä»¶ï¼Œåœ¨ç»„ä»¶é‡Œå†™è‡ªå·±æƒ³è¦çš„éª¨æ¶å±çš„æ ·å¼å³å¯ï¼Œå¯å¤ç”¨çš„åœ°æ–¹è¿˜å¯ä»¥å†åˆ†æˆç»„ä»¶ã€‚
åœ¨è·¯ç”±é‡ŒåŠ ä¸Š skeletonMessage ï¼Œçœ‹ä¸€ä¸‹æ•ˆæœï¼š</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton.png" alt=""></p> <p>è‡³æ­¤ï¼Œç°åœ¨éª¨æ¶å±å·²ç»å‡†å¤‡å°±ç»ªäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆç®€å•ğŸ¤¨ã€‚</p> <h3 id="æ•ˆæœå±•ç¤º"><a href="#æ•ˆæœå±•ç¤º" aria-hidden="true" class="header-anchor">#</a> æ•ˆæœå±•ç¤º</h3> <p>è¿™è¾¹æ¨¡æ‹Ÿä¸€ä¸‹ç§»åŠ¨ç«¯è®¿é—®ç¯å¢ƒï¼Œå…ˆè¿›å…¥ Chrome DevTools ä¸­çš„ Performance è¿›è¡Œè®¾ç½®ã€‚</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance1.gif" alt=""></p> <p>è¿è¡Œ Performanceï¼š</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance2.png" alt=""></p> <p>æ•ˆæœï¼š</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance2.gif" alt=""></p> <p>ä»éª¨æ¶å±æ›¿æ¢æˆé¡µé¢çš„è¿‡ç¨‹ä¸­è¿˜æ˜¯æœ‰é—ªä¸€ä¸‹çš„ï¼Œç›®å‰è¿˜ä¸çŸ¥é“è¿™ä¸ªæ˜¯å¦å¯ä»¥ä¼˜åŒ–ï¼Œå°è¯•ä¸­ã€‚</p> <p>æŸ¥çœ‹ä¸€ä¸‹ Performance ä¸­ä¸åŒé¡µé¢å±•ç°çš„æ—¶é—´ï¼š</p> <p><img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance4.png" alt=""> <img src="/images/vue-skeleton-webpack-plugin%E9%AA%A8%E6%9E%B6%E5%B1%8F%E5%AE%9E%E6%88%98/skeleton-performance5.png" alt=""></p> <p>ï¼ˆpsï¼šè§£é‡Šä¸€ä¸‹ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“ä»€ä¹ˆæƒ…å†µï¼Œè¿è¡Œå®Œä¹‹åå°±æ˜¯å°¼ğŸ´è¿™ä¹ˆç³Š...ï¼‰</p> <p>å¯ä»¥çœ‹åˆ°åœ¨é€šè¿‡æœ¬åœ°è¿è¡Œè®¿é—®çš„æƒ…å†µä¸‹ï¼ˆæœ¬åœ°è®¿é—®è¾ƒå¿«ï¼‰ï¼Œåœ¨è¿›å…¥é¡µé¢å 221ms é¡µé¢å…ˆå±•ç¤ºéª¨æ¶å±ï¼Œéšååœ¨ 738ms æ—¶å®Œæˆé¡µé¢çš„æ¸²æŸ“ã€‚</p> <p>è¿™é‡Œå¦‚æœä¸åŠ éª¨æ¶å±çš„è¯å°±æ˜¯ 738ms çš„ç™½å±æ—¶é—´ï¼Œæˆ‘ä»¬å·²ç»é€šè¿‡éª¨æ¶å±ä¼˜åŒ–äº†ä¸€äº›ç™½å±æ—¶é—´ğŸ„ã€‚</p> <h3 id="æœ€å"><a href="#æœ€å" aria-hidden="true" class="header-anchor">#</a> æœ€å</h3> <p><a href="https://github.com/lavas-project/vue-skeleton-webpack-plugin" target="_blank" rel="noopener noreferrer">vue-skeleton-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> æ˜¯è¾ƒä¸ºåˆçº§çš„éª¨æ¶å±æ–¹æ¡ˆï¼Œç›¸ä¿¡å¤§å®¶ä¹Ÿå¯ä»¥é©¬ä¸Šæƒ³åˆ°è®¸å¤šç¼ºç‚¹ã€‚</p> <p>æ¯”å¦‚ï¼š</p> <ul><li>éœ€è¦æ‰‹åŠ¨å»å†™éª¨æ¶å±çš„æ ·å¼ã€‚</li> <li>éª¨æ¶å±æ ·å¼åœ¨ä¸åŒå°ºå¯¸ä¸‹çš„å“åº”å¼é—®é¢˜ã€‚</li> <li>åœ¨ç•Œé¢æ”¹åŠ¨ä¹‹åä¹Ÿéœ€è¦æ‰‹åŠ¨ä¿®æ”¹å¯¹åº”çš„éª¨æ¶å±ã€‚</li></ul> <p>ç”±äºåœ¨æœ¬äººçš„é¡¹ç›®ä¸­ä½¿ç”¨åˆ°äº†<span class="important-font"> postcss-px2rem </span> è‡ªåŠ¨ px è½¬ remï¼Œæ‰€ä»¥é¿å¼€äº†ä¸€äº›ç¼ºç‚¹ã€‚</p> <h3 id="å…¶ä»–æ–¹æ³•"><a href="#å…¶ä»–æ–¹æ³•" aria-hidden="true" class="header-anchor">#</a> å…¶ä»–æ–¹æ³•</h3> <p>æ­¤å¤–è¿˜æœ‰è®¸å¤šä½¿ç”¨éª¨æ¶å±çš„æ–¹æ³•ï¼š</p> <ul><li><a href="https://github.com/ElemeFE/page-skeleton-webpack-plugin" target="_blank" rel="noopener noreferrer">page-skeleton-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> é¥¿äº†ä¹ˆå¼€æºçš„è‡ªåŠ¨ç”Ÿæˆéª¨æ¶å±ç”Ÿæˆæ’ä»¶ã€‚</li> <li>ç”¨ base64 çš„å›¾ç‰‡åšéª¨æ¶å±ï¼Œå°±è®© UI åœ¨å‡ºè®¾è®¡ç¨¿çš„æ—¶å€™é¡ºä¾¿æŠŠéª¨æ¶å±ä¹Ÿç»™ç”»äº†ğŸ˜‚ã€‚</li></ul> <blockquote><p>å‚è€ƒï¼š
https://juejin.im/post/5b79a2786fb9a01a18267362#comment</p></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
        â†
        <a href="/article/Vue/Vueæœ€ä½³å®è·µ_é£æ ¼è§„èŒƒæ•´ç†.html" class="prev">
          Vue æ¡†æ¶ä½¿ç”¨æ—¶éœ€æ³¨æ„çš„é£æ ¼è§„èŒƒåŠæœ€ä½³å®è·µ
        </a></span> <span class="next"><a href="/article/å¿«é€ŸæŸ¥é˜…/Node.jså®‰è£…åŠç¯å¢ƒé…ç½®æ•™ç¨‹.html">
          Windows ä¸‹ Node.js å®‰è£…åŠç¯å¢ƒå˜é‡é…ç½®æ•™ç¨‹
        </a>
        â†’
      </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9bc466e0.js" defer></script><script src="/assets/js/2.bc0da09f.js" defer></script><script src="/assets/js/6.cdcc581a.js" defer></script>
  </body>
</html>
